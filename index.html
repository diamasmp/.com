<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Diama SMP ‚Äî Minecraft Lifesteal (v2)</title>
  <meta name="description" content="Diama SMP ‚Äî Minecraft Lifesteal Server. PvP, custom plugins, events, active community. IP: in1.arialnodes.in:25569" />
  <!-- Fonts & icons -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* ---------- RESET & BASE ---------- */
    :root{
      --bg0: #001f1a;
      --glass: rgba(5,10,10,0.36);
      --neon: #00ffc2;
      --neon-2: #00a7ff;
      --accent: rgba(0,255,180,0.06);
      --muted: rgba(240,255,250,0.9);
      --glass-border: rgba(255,255,255,0.04);
      --glow: 0 8px 36px rgba(0,255,160,0.06);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;background: linear-gradient(-45deg,#002826,#004c44,#007a63,#00b289);background-size:400% 400%;animation:bgShift 12s linear infinite;font-family:"Poppins",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:#e9fff8;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow-x:hidden}
    @keyframes bgShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    /* ---------- LAYOUT ---------- */
    .wrap{max-width:1180px;margin:20px auto;padding:20px;position:relative;z-index:12}
    canvas#xpCanvas{position:fixed;inset:0;z-index:1;pointer-events:none;mix-blend-mode:screen;opacity:0.85;transition:opacity .25s ease}

    /* ---------- GLASS TOPBAR (mobile) ---------- */
    .topbar{
      display:none;position:sticky;top:12px;z-index:60;margin:0 auto;align-items:center;gap:10px;
      background:linear-gradient(180deg,rgba(8,12,12,0.28),rgba(8,12,12,0.12));
      backdrop-filter:blur(8px);padding:10px 14px;border-radius:12px;border:1px solid var(--glass-border);
      box-shadow:var(--glow);
    }
    .brand{display:flex;align-items:center;gap:10px}
    .brand h1{font-family:'Press Start 2P',cursive;font-size:14px;color:#e7fff8}
    .brand small{font-size:12px;color:var(--muted);opacity:0.9}

    .hambtn{
      margin-left:auto;display:inline-flex;align-items:center;gap:10px;padding:9px 12px;border-radius:10px;border:none;cursor:pointer;
      background:linear-gradient(90deg,var(--neon),var(--neon-2));color:#001f17;font-weight:800;box-shadow:0 8px 28px rgba(0,170,150,0.08);
      transform:translateZ(0);transition:transform .12s ease,box-shadow .12s ease;
    }
    .hambtn:active{transform:translateY(2px) scale(.995);box-shadow:0 6px 18px rgba(0,170,150,0.06)}
    .hambtn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#e8fffb;box-shadow:none}

    /* mobile floating quick action */
    .fab{
      position:fixed;right:20px;bottom:20px;z-index:80;width:58px;height:58px;border-radius:999px;
      display:none;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--neon),var(--neon-2));color:#001f17;font-weight:800;border:none;box-shadow:0 18px 48px rgba(0,160,200,0.12);
      transition:transform .12s ease,box-shadow .12s ease;
    }
    .fab:active{transform:scale(.98)}

    /* ---------- DESKTOP NAV ---------- */
    nav{position:sticky;top:18px;z-index:40;display:flex;justify-content:center;gap:20px;background:linear-gradient(180deg,rgba(0,0,0,0.36),rgba(0,0,0,0.12));backdrop-filter:blur(6px);padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 8px 30px rgba(0,0,0,0.35)}
    nav a{font-family:'Press Start 2P',cursive;color:#c8fff4;text-decoration:none;font-size:12px;padding:6px 10px;border-radius:10px;position:relative}
    nav a::after{content:"";height:3px;background:linear-gradient(90deg,var(--neon),var(--neon-2));position:absolute;left:8px;right:8px;bottom:-8px;border-radius:4px;transform:scaleX(0);transform-origin:left center;transition:transform .22s cubic-bezier(.2,.9,.2,1)}
    nav a:hover::after{transform:scaleX(1)}
    nav a:focus{outline:2px solid rgba(0,255,150,0.12);outline-offset:2px}

    /* ---------- HEADER ---------- */
    header{position:relative;text-align:center;margin:22px 0;padding:28px;border-radius:14px;background:linear-gradient(180deg,rgba(0,0,0,0.48),rgba(0,0,0,0.22));border:1px solid rgba(255,255,255,0.03);box-shadow:0 18px 48px rgba(0,0,0,0.45);z-index:10}
    header .title-row{display:flex;align-items:center;justify-content:center;gap:14px;flex-wrap:wrap}
    header h1{font-family:'Press Start 2P',cursive;font-size:36px;color:#dffef2;text-shadow:0 0 28px rgba(0,255,180,0.08)}
    .title-underline{height:6px;width:120px;border-radius:999px;margin:8px auto;background:linear-gradient(90deg,var(--neon),var(--neon-2));box-shadow:0 10px 32px rgba(0,170,160,0.12)}
    header p{max-width:880px;margin:8px auto 0;color:var(--muted);font-weight:500;line-height:1.45}

    .header-actions{margin-top:18px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
    .btn{
      display:inline-flex;align-items:center;gap:10px;background:linear-gradient(135deg,var(--neon),var(--neon-2));color:#001e18;border:none;padding:12px 18px;border-radius:12px;cursor:pointer;font-weight:800;box-shadow:0 12px 40px rgba(0,170,140,0.10);transition:transform .12s,box-shadow .12s,filter .12s
    }
    .btn:hover{transform:translateY(-4px);filter:brightness(1.02)}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#e8fffb;box-shadow:none}
    .btn:active{transform:translateY(0);box-shadow:0 8px 22px rgba(0,160,140,0.06)}

    /* ---------- IP + STATS ---------- */
    .ip-section{margin:22px 0;padding:18px;border-radius:12px;background:linear-gradient(180deg,rgba(0,0,0,0.45),rgba(0,0,0,0.34));border:1px solid rgba(0,255,136,0.06);display:flex;flex-direction:column;align-items:center;gap:12px;z-index:10;position:relative}
    .ip-title{font-family:'Press Start 2P',cursive;color:#dfffe9}
    .ip-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:center;width:100%}
    .ip-left{display:flex;gap:12px;align-items:center;flex:0 0 auto}
    .ip-box{background:linear-gradient(180deg,rgba(0,255,136,0.06),rgba(0,255,136,0.02));padding:12px 18px;border-radius:10px;border:1px solid rgba(0,255,136,0.08);font-weight:800;color:#dffef6;box-shadow:0 12px 30px rgba(0,255,130,0.03)}
    .stats-bar{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:8px}
    .stat{background:rgba(255,255,255,0.03);padding:8px 12px;border-radius:10px;font-weight:700;color:#e7fff8;border:1px solid rgba(255,255,255,0.02)}

    /* ---------- SECTIONS & CARDS ---------- */
    .section{margin:22px 0;padding:26px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.009));border:1px solid rgba(0,255,136,0.04);box-shadow:0 12px 36px rgba(0,0,0,0.28);z-index:10;position:relative;overflow:visible}
    .section h2{font-family:'Press Start 2P',cursive;color:#bfffee;margin-bottom:14px;font-size:18px;text-shadow:0 0 8px rgba(0,255,180,0.06)}
    .section .glow-line{height:4px;width:84px;border-radius:999px;background:linear-gradient(90deg,var(--neon),var(--neon-2));box-shadow:0 10px 30px rgba(0,160,160,0.08);margin-bottom:12px}

    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
    .feature{
      background:linear-gradient(180deg,rgba(0,0,0,0.48),rgba(0,0,0,0.32));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 40px rgba(0,0,0,0.26);transition:transform .18s,box-shadow .18s,filter .18s;backdrop-filter:blur(6px)
    }
    .feature:hover{transform:translateY(-10px) rotateX(2deg);box-shadow:0 22px 56px rgba(0,0,0,0.36);filter:brightness(1.04)}
    .feature .icon{width:56px;height:56px;border-radius:10px;display:flex;align-items:center;justify-content:center;margin-bottom:12px;background:linear-gradient(135deg,rgba(0,255,204,0.06),rgba(0,160,255,0.03));border:1px solid rgba(255,255,255,0.02);box-shadow:0 10px 30px rgba(0,255,160,0.03)}
    .feature .icon i{color:#cafff2;font-size:22px}
    .feature h3{margin-bottom:8px;color:#e9fff8}
    .feature p{color:#dffef6;font-size:14px;line-height:1.5}

    /* ---------- TEAM ---------- */
    .team-wrap{display:flex;flex-direction:column;align-items:center;gap:28px}
    .captain-card{width:360px;border-radius:16px;padding:20px;text-align:center;background:linear-gradient(145deg,#002821,#004d40);border:3px solid rgba(0,255,200,0.9);box-shadow:0 30px 70px rgba(0,255,200,0.06)}
    .captain-card img{width:120px;height:120px;border-radius:50%;object-fit:cover;border:4px solid rgba(255,255,255,0.04);margin-bottom:10px}
    .captain-card h3{font-family:'Press Start 2P',cursive;font-size:16px;margin-bottom:8px;color:#eafffb}
    .captain-card p{font-weight:700;color:#bfffee}

    .owners{display:flex;gap:18px;flex-wrap:wrap;justify-content:center}
    .owner{width:260px;border-radius:12px;padding:14px;background:linear-gradient(180deg,rgba(0,0,0,0.48),rgba(0,0,0,0.32));border:2px solid rgba(255,204,0,0.06);box-shadow:0 12px 36px rgba(255,204,0,0.02);text-align:center;transition:transform .14s}
    .owner:hover{transform:translateY(-6px)}
    .owner img{width:100px;height:100px;border-radius:50%;object-fit:cover;margin-bottom:8px;border:3px solid rgba(255,255,255,0.04)}
    .owner h4{font-family:'Press Start 2P',cursive;color:#fff7d8;margin-bottom:6px}
    .owner p{font-weight:700;color:#ffeeb3}

    .staff-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
    .staff{width:200px;border-radius:12px;padding:12px;background:linear-gradient(180deg,rgba(0,0,0,0.46),rgba(0,0,0,0.28));border:1px solid rgba(0,255,136,0.03);box-shadow:0 10px 26px rgba(0,0,0,0.22);text-align:center}
    .staff img{width:78px;height:78px;border-radius:50%;object-fit:cover;margin-bottom:8px;border:2px solid rgba(255,255,255,0.03)}
    .staff h5{color:#e6fff7;margin-bottom:6px}
    .staff p{font-weight:700;color:#cfeee4}

    /* ---------- RULES & FOOTER ---------- */
    .rules-list{list-style:none;padding-left:0;color:#dffef6}
    .rules-list li{padding:8px 0;border-bottom:1px dashed rgba(255,255,255,0.02);font-weight:600}

    footer{margin-top:26px;padding:18px;text-align:center;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);box-shadow:0 10px 30px rgba(0,0,0,0.2)}
    footer small{color:#bfffee;animation:footerPulse 3s infinite ease-in-out}
    @keyframes footerPulse{0%{opacity:1}50%{opacity:0.85}100%{opacity:1}}

    /* ---------- HELPERS & RESPONSIVE ---------- */
    .muted{opacity:0.9;font-size:13px}
    .center{display:flex;justify-content:center;align-items:center}
    .reveal{opacity:0;transform:translateY(18px);transition:opacity .6s ease,transform .6s ease}
    .reveal.visible{opacity:1;transform:none}
    a:focus,button:focus{outline:2px solid rgba(0,255,150,0.14);outline-offset:2px}
    .wrap, header p, .feature p {word-break:break-word;hyphens:auto}

    /* ---------- MEDIA QUERIES ---------- */
    @media (max-width:1024px){
      header h1{font-size:30px}
      .captain-card{width:92%}
      .owner{width:46%}
      .staff{width:46%}
    }
    @media (max-width:820px){
      nav{display:none}
      .topbar{display:flex}
      .wrap{padding:14px}
      header{padding:20px}
      header h1{font-size:22px}
      header p{font-size:15px}
      .btn{padding:10px 14px;font-size:14px}
      .ip-row{flex-direction:column;align-items:stretch}
      .stats-bar{justify-content:space-between;width:100%}
      .owner{width:48%}
      .staff{width:48%}
      .fab{display:flex}
      canvas#xpCanvas{opacity:0.72}
    }
    @media (max-width:520px){
      .owner{width:100%}
      .staff{width:100%}
      .feature{padding:14px}
      .features{gap:12px}
      .captain-card{width:100%}
      header h1{font-size:18px}
      header p{font-size:14px}
      .hambtn{padding:10px}
      canvas#xpCanvas{opacity:0.55}
    }
    @media (max-width:380px){
      header{padding:14px}
      .btn{padding:8px 10px;font-size:13px}
      header p{font-size:13px}
      canvas#xpCanvas{opacity:0.45}
    }

    /* ---------- REDUCED MOTION PREF ---------- */
    @media (prefers-reduced-motion: reduce){
      *{transition:none!important;animation:none!important}
      canvas#xpCanvas{display:none}
    }
  </style>
</head>
<body>

  <!-- XP particle canvas (behind content) -->
  <canvas id="xpCanvas" aria-hidden="true"></canvas>

  <!-- TOPBAR (mobile) -->
  <div class="topbar" role="navigation" aria-label="Mobile navigation">
    <div class="brand">
      <h1>Diama SMP ‚ù§Ô∏è</h1>
      <small class="muted">Lifesteal ‚Ä¢ PvP</small>
    </div>
    <button id="hamburger" class="hambtn" aria-expanded="false" aria-controls="mobileMenu" title="Open menu">
      <i class="fas fa-bars" aria-hidden="true"></i>
    </button>
  </div>

  <!-- MOBILE MENU -->
  <div id="mobileMenu" class="mobile-menu" role="menu" aria-hidden="true" style="display:none;position:fixed;left:12px;right:12px;top:74px;z-index:70;background:linear-gradient(180deg,rgba(6,8,10,0.48),rgba(6,8,10,0.22));backdrop-filter:blur(10px);border-radius:14px;padding:12px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 22px 48px rgba(0,0,0,0.6);flex-direction:column;gap:8px;">
    <a href="#about" role="menuitem" class="muted" style="padding:12px;border-radius:10px;color:#dffef6;text-decoration:none;font-weight:700">ABOUT</a>
    <a href="#ip" role="menuitem" class="muted" style="padding:12px;border-radius:10px;color:#dffef6;text-decoration:none;font-weight:700">SERVER IP</a>
    <a href="#team" role="menuitem" class="muted" style="padding:12px;border-radius:10px;color:#dffef6;text-decoration:none;font-weight:700">TEAM</a>
    <a href="#rules" role="menuitem" class="muted" style="padding:12px;border-radius:10px;color:#dffef6;text-decoration:none;font-weight:700">RULES</a>
    <a href="#invite" role="menuitem" class="muted" style="padding:12px;border-radius:10px;color:#dffef6;text-decoration:none;font-weight:700">JOIN</a>
  </div>

  <!-- floating quick action (mobile) -->
  <button class="fab" id="fab" aria-label="Open Discord" title="Open Discord" style="display:none;">
    <i class="fab fa-discord" style="font-size:20px"></i>
  </button>

  <div class="wrap" style="position:relative;z-index:12;">
    <!-- DESKTOP NAV -->
    <nav aria-label="Main navigation">
      <a href="#about">ABOUT</a>
      <a href="#ip">SERVER IP</a>
      <a href="#team">TEAM</a>
      <a href="#rules">RULES</a>
      <a href="#invite">JOIN</a>
    </nav>

    <!-- HEADER -->
    <header>
      <div class="title-row">
        <h1>Diama SMP ‚ù§Ô∏è</h1>
      </div>
      <div class="title-underline" aria-hidden="true"></div>
      <p>
        Welcome to Diama SMP ‚Äî a lifesteal-focused Minecraft SMP. Steal hearts in PvP, build bases, join tournaments,
        and climb the leaderboard. Active staff, custom plugins, and weekly events.
      </p>

      <div class="header-actions">
        <button class="btn" onclick="openDiscord()"><i class="fab fa-discord"></i> Open Discord</button>
        <button class="btn ghost" onclick="copyInvite()"><i class="fas fa-copy"></i> Copy Invite</button>
      </div>
    </header>

    <!-- IP + stats -->
    <section id="ip" class="ip-section reveal" aria-labelledby="ip-heading">
      <div id="ip-heading" class="ip-title" style="font-family:'Press Start 2P',cursive;color:#dfffe9">üéÆ SERVER IP</div>

      <div class="ip-row" style="align-items:center">
        <div class="ip-left" style="flex:1 0 auto;justify-content:center;">
          <div class="ip-box" id="ipBox">in1.arialnodes.in:25569</div>
        </div>

        <div style="display:flex;gap:10px;flex-wrap:wrap;justify-content:center;align-items:center">
          <button class="btn" onclick="copyIP()"><i class="fas fa-copy"></i> Copy IP</button>
          <button class="btn ghost" onclick="launchIP()"><i class="fas fa-play"></i> Connect</button>
        </div>
      </div>

      <div class="stats-bar" aria-hidden="true">
        <div class="stat">Players: <strong id="statPlayers">‚Äî</strong></div>
        <div class="stat">Version: <strong>1.20+</strong></div>
        <div class="stat">Mode: <strong>Lifesteal SMP</strong></div>
      </div>
    </section>

    <!-- FEATURES -->
    <section id="about" class="section">
      <h2>About & Features</h2>
      <div class="glow-line" aria-hidden="true"></div>
      <div class="features">
        <div class="feature reveal">
          <div class="icon"><i class="fas fa-heart"></i></div>
          <h3>Lifesteal PvP</h3>
          <p>Kill other players to steal hearts. Risk, reward and high-stakes PvP ‚Äî this is survival amplified.</p>
        </div>

        <div class="feature reveal">
          <div class="icon"><i class="fas fa-cogs"></i></div>
          <h3>Custom Plugins</h3>
          <p>Server uses tailored plugins to manage lifesteal mechanics, anti-abuse systems, and fair matchmaking.</p>
        </div>

        <div class="feature reveal">
          <div class="icon"><i class="fas fa-users"></i></div>
          <h3>Active Community</h3>
          <p>Friendly but competitive players ‚Äî clans, trading, group raids and a lively Discord for events.</p>
        </div>

        <div class="feature reveal">
          <div class="icon"><i class="fas fa-gift"></i></div>
          <h3>Events & Rewards</h3>
          <p>Weekly tournaments and seasonal events with exclusive prizes, ranks and in-game loot.</p>
        </div>

        <div class="feature reveal">
          <div class="icon"><i class="fas fa-server"></i></div>
          <h3>24/7 Uptime</h3>
          <p>Reliable hosting with low ping and automated backups ‚Äî the world stays alive while you play.</p>
        </div>

        <div class="feature reveal">
          <div class="icon"><i class="fas fa-shield-halved"></i></div>
          <h3>Trusted Staff</h3>
          <p>Fair and active moderation to keep gameplay balanced and handle disputes quickly and transparently.</p>
        </div>
      </div>
    </section>

    <!-- TEAM -->
    <section id="team" class="section">
      <h2>Our Team</h2>
      <div class="glow-line" aria-hidden="true"></div>
      <div class="team-wrap">

        <div class="captain-card reveal">
          <img src="https://i.ibb.co/3mFM4zzR/download-1.png" alt="Captain Rafay ‚Äî profile">
          <h3>‚üÜ ùêÇùêÄùêèùêìùêÄùêàùêç ‚ãÜ ùêëùêÄùêÖùêÄùêò ‚üÜ</h3>
          <p class="muted">‚öîÔ∏è Captain ‚Äî overall server lead & PvP strategist</p>
        </div>

        <div class="owners reveal" aria-hidden="false">
          <div class="owner" aria-label="Owner Affan">
            <img src="https://i.ibb.co/cPm95Dt/download-2.png" alt="Owner Affan">
            <h4>‚üÜ ùêÜùêÄùêåùêÑùêë ‚ãÜ ùêÄùêÖùêÖùêÄùêç ‚üÜ</h4>
            <p class="muted">üëë Owner ‚Äî server founder & infrastructure</p>
          </div>

          <div class="owner" style="border-color:#ff5733;box-shadow:0 12px 36px rgba(255,87,51,0.04)" aria-label="Co-Owner Blaze">
            <img src="https://i.ibb.co/prP5HCGN/download-4.jpg" alt="Co-Owner Blaze">
            <h4>Ahmed | Blaze</h4>
            <p class="muted">üî• Co-Owner ‚Äî community & events</p>
          </div>
        </div>

        <div class="staff-row reveal">
          <div class="staff" aria-label="Manager">
            <img src="https://i.ibb.co/C3vy9rFq/images.jpg" alt="Manager placeholder">
            <h5>FireX | Blaze</h5>
            <p class="muted">üìã Manager</p>
          </div>

          <div class="staff" aria-label="Admin water hashira">
            <img src="https://i.ibb.co/XxPPznBg/download-3.png" alt="Admin water hashira">
            <h5>·¥°·¥Ä·¥õ·¥á Ä  ú·¥ÄÍú± ú…™ Ä·¥Ä</h5>
            <p class="muted">üõ†Ô∏è Admin ‚Äî moderation & support</p>
          </div>

          <div class="staff" aria-label="Moderator">
            <img src="https://i.ibb.co/cXC5mxpX/download-6.jpg" alt="Moderator placeholder">
            <h5>No One</h5>
            <p class="muted">üí¨ Moderator</p>
          </div>
        </div>

      </div>
    </section>

    <!-- RULES -->
    <section id="rules" class="section reveal">
      <h2>Server Rules</h2>
      <div class="glow-line" aria-hidden="true"></div>
      <ul class="rules-list">
        <li>‚úÖ Respect everyone ‚Äî abuse or hate speech will not be tolerated.</li>
        <li>‚ùå No hacks, exploits or dupes. Evidence-based bans.</li>
        <li>üè† No spawn killing or destructive griefing.</li>
        <li>‚öîÔ∏è PvP allowed ‚Äî avoid unfair teaming in solo events.</li>
        <li>üí¨ Keep chat safe ‚Äî no NSFW, doxxing, or targeted harassment.</li>
        <li>üìõ Follow staff instructions. Appeals handled in Discord.</li>
      </ul>
    </section>

    <!-- INVITE -->
    <section id="invite" class="section reveal">
      <h2>Join Diama SMP</h2>
      <p style="max-width:840px;margin:0 auto 14px" class="muted">Open our Discord to join the community. Copy the invite if needed.</p>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
        <button class="btn" onclick="openDiscord()"><i class="fab fa-discord"></i> Open Discord</button>
        <button class="btn ghost" onclick="copyInvite()"><i class="fas fa-copy"></i> Copy Invite</button>
      </div>
    </section>

    <footer>
      <small>¬© 2025 Diama SMP | Powered by Rafay | All Rights Reserved</small>
    </footer>
  </div>

  <!-- ---------- SCRIPTS ---------- -->
  <script>
    // ---------- helpers ----------
    const isMobile = (() => {
      try {
        return /Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent) || innerWidth <= 820;
      } catch (e) { return false; }
    })();

    // ---------- XP PARTICLES (optimized / throttled mobile) ----------
    (function xpCanvas(){
      const canvas = document.getElementById('xpCanvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let w = canvas.width = innerWidth, h = canvas.height = innerHeight;
      window.addEventListener('resize', ()=>{ w = canvas.width = innerWidth; h = canvas.height = innerHeight; });

      const MAX_BASE = Math.min(100, Math.floor(w / 12));
      const MAX = isMobile ? Math.max(20, Math.floor(MAX_BASE * 0.45)) : MAX_BASE;
      canvas.style.opacity = isMobile ? '0.62' : '0.88';

      const particles = [];
      function spawn(){
        if(particles.length >= MAX) return;
        const size = (isMobile ? 3 : 6) + Math.random() * (isMobile ? 6 : 8);
        particles.push({
          x: Math.random() * w,
          y: -12 - Math.random() * 120,
          vx: (Math.random() - 0.5) * (isMobile ? 0.5 : 0.6),
          vy: (isMobile ? 0.6 : 0.8) + Math.random() * (isMobile ? 0.8 : 1.6),
          life: (isMobile ? 1800 : 3000) + Math.random() * (isMobile ? 2000 : 3000),
          born: performance.now(),
          size,
          hue: 160 + Math.random() * 60
        });
      }
      for(let i=0;i<Math.floor(MAX/3);i++) spawn();

      let last = performance.now();
      function step(time){
        ctx.clearRect(0,0,w,h);
        if(Math.random() < (isMobile ? 0.24 : 0.36)) spawn();
        for(let i=particles.length-1;i>=0;i--){
          const p = particles[i];
          const age = time - p.born;
          if(age > p.life || p.y > h + 60){ particles.splice(i,1); continue; }
          p.x += p.vx;
          p.y += p.vy;
          p.vx += (Math.random()-0.5) * (isMobile ? 0.03 : 0.04);
          const alpha = 1 - age / p.life;
          ctx.fillStyle = `hsla(${p.hue},80%,60%,${alpha})`;
          ctx.fillRect(p.x, p.y, p.size, p.size);
          ctx.fillStyle = `rgba(255,255,255,${alpha * 0.02})`;
          ctx.fillRect(p.x - 1, p.y - 1, p.size + 2, p.size + 2);
        }

        // throttle on mobile to ~30fps
        if(isMobile){
          const now = performance.now();
          if(now - last >= 34){ last = now; requestAnimationFrame(step); } else { requestAnimationFrame(step); }
        } else {
          requestAnimationFrame(step);
        }
      }
      requestAnimationFrame(step);
    })();

    // ---------- reveal on scroll ----------
    (function revealOnScroll(){
      const obsOptions = {threshold: 0.12};
      const io = new IntersectionObserver((entries)=>{ for(const e of entries){ if(e.isIntersecting) e.target.classList.add('visible'); } }, obsOptions);
      document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
    })();

    // ---------- copy / interactions ----------
    const DISCORD_INVITE = "https://discord.gg/xKUUnA3z6Y";
    const SERVER_IP = "in1.arialnodes.in:25569";
    function copy(text){
      if(!navigator.clipboard){
        const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta); ta.select();
        try{ document.execCommand('copy') }catch(e){} document.body.removeChild(ta); return;
      }
      navigator.clipboard.writeText(text).catch(()=>{});
    }
    function copyInvite(){ copy(DISCORD_INVITE); toast("Discord invite copied"); }
    function openDiscord(){ window.open(DISCORD_INVITE, "_blank"); }
    function copyIP(){ copy(SERVER_IP); toast("Server IP copied"); }
    function launchIP(){
      copy(SERVER_IP);
      toast("IP copied ‚Äî paste in Minecraft Multiplayer ‚Üí Add Server");
      try{ window.open("minecraft://?addExternalServer=Diama%20SMP%7C" + encodeURIComponent(SERVER_IP)); } catch(e) {}
    }

    function toast(msg){
      const el = document.createElement('div');
      el.textContent = msg;
      Object.assign(el.style,{position:'fixed',left:'50%',bottom:'26px',transform:'translateX(-50%)',background:'linear-gradient(90deg,rgba(0,0,0,0.7),rgba(0,0,0,0.5))',color:'#dffef6',padding:'10px 14px',borderRadius:'10px',zIndex:99999,boxShadow:'0 8px 28px rgba(0,0,0,0.5)'});
      document.body.appendChild(el);
      setTimeout(()=>el.style.opacity='0',1500); setTimeout(()=>el.remove(),1900);
    }

    // ---------- mobile menu / FAB ----------
    (function mobileUI(){
      const btn = document.getElementById('hamburger');
      const menu = document.getElementById('mobileMenu');
      const fab = document.getElementById('fab');
      if(isMobile){
        // show FAB and topbar (CSS handles visibility)
        try{ document.querySelector('.fab').style.display = 'flex'; } catch(e){}
      }
      if(!btn || !menu) return;
      btn.addEventListener('click', ()=>{
        const open = menu.style.display === 'flex';
        if(open){ menu.style.display = 'none'; btn.setAttribute('aria-expanded','false'); menu.setAttribute('aria-hidden','true'); }
        else { menu.style.display = 'flex'; btn.setAttribute('aria-expanded','true'); menu.setAttribute('aria-hidden','false'); const first = menu.querySelector('a'); if(first) first.focus(); }
      });

      document.addEventListener('click', (e)=>{
        if(!menu || !menu.style) return;
        if(menu.style.display !== 'flex') return;
        if(e.target.closest('#mobileMenu') || e.target.closest('#hamburger')) return;
        menu.style.display = 'none'; btn.setAttribute('aria-expanded','false'); menu.setAttribute('aria-hidden','true');
      });

      document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape' && menu && menu.style.display === 'flex'){ menu.style.display = 'none'; btn.setAttribute('aria-expanded','false'); menu.setAttribute('aria-hidden','true'); btn.focus(); }
      });

      // FAB action
      const fabBtn = document.getElementById('fab');
      if(fabBtn){ fabBtn.addEventListener('click', openDiscord); }
    })();

    // ---------- players mock ----------
    (function statsMock(){
      const el = document.getElementById('statPlayers');
      if(!el) return;
      let target = 0;
      try{ const t = parseInt(new URLSearchParams(location.search).get('players')); if(t>0) target = t; } catch(e){}
      if(target === 0) target = Math.floor(6 + Math.random() * 48);
      let cur = 0; const step = Math.max(1, Math.floor(target / 30));
      const tick = setInterval(()=>{ cur += step; if(cur >= target){ cur = target; clearInterval(tick); } el.textContent = cur; }, 60);
    })();

    // ---------- prevent horizontal scroll ----------
    document.documentElement.style.overflowX = 'hidden';
  </script>
</body>
</html>
